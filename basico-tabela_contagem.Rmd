## Tabelas de contagem

Vamos usar utilizar os mesmos dados de caixetas utilizados na seção \@ref(#tabela-dinamica).
A função `table()` permite contar valores em fatores e vetores.  

```{r, opts.label='evalF'}
dir(pattern="caixeta")
caixeta = read.table("caixeta.csv",sep=',',header=T)

names(caixeta)
#tem a coluna especie

#podemos resumir quantos individuos tem de cada espécie (considerando que cada linha é um individuo)
table(caixeta$especie) 
#mostra as tres especies mais abundantes
sort(table(caixeta$especie), decreasing=T)[1:3] 

#quantos individuos por localidade?
table(caixeta$local) 

#especie por localidade
tb= table(caixeta$especie,caixeta$local) 
head(tb,3) #mostra as tres primeiras linhas

#tabela de presenca e ausencia de especie por localidade
tb = table(caixeta$especie,caixeta$local) 
#quem tem mais de 0 individuos está presente
#portanto, substituo por 1
tb[tb>0] = 1
head(tb)

#sendo assim, posso ver o numero de especie por localidade aplicando a suma das linha que tem 1 para cada coluna
apply(tb,2,sum)
```
